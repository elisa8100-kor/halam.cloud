<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>관리자 페이지</title>
</head>
<body>

<h1>🔧 사이트 잠금 관리</h1>
<button id="lockBtn">🔒 잠그기</button>
<button id="unlockBtn">🔓 열기</button>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBlhU1NVqceV0zYtgSaDF1Q22DebLVlT7E",
    authDomain: "mole-71eed.firebaseapp.com",
    projectId: "mole-71eed",
    storageBucket: "mole-71eed.appspot.com",
    messagingSenderId: "770752185372",
    appId: "1:770752185372:web:44c462f2021f6752750bd9"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const lockRef = doc(db, "site", "lock");

  document.getElementById("lockBtn").onclick = async () => {
    await updateDoc(lockRef, { locked: true });
    alert("사이트 잠김");
  };

  document.getElementById("unlockBtn").onclick = async () => {
    await updateDoc(lockRef, { locked: false });
    alert("사이트 열림");
  };
</script>

</body>
</html>
